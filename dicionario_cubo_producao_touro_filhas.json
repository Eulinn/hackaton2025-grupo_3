{
    "tabela": "cubo_producao_touro_filhas",
    "descricao": "Cubo otimizado para análise de performance de touros baseada exclusivamente em filhas diretas (não inclui netas)",
    "versao": "1.0",
    "criado_em": "2025-10-23",
    "total_registros": 217,
    "diferencial": "Análise focada APENAS em filhas diretas, permitindo avaliar o impacto genético direto do touro sem influência de gerações subsequentes",
    "estatisticas_gerais": {
        "touros_elite": 10,
        "touros_amostra_significativa": 92,
        "touros_todas_filhas_produtivas": 217,
        "producao_min_litros": 544.34,
        "producao_max_litros": 13217.25,
        "producao_media_litros": 7242.79,
        "max_filhas_por_touro": 137
    },
    "campos_principais": {
        "identificacao": {
            "codigo_touro": {
                "tipo": "VARCHAR",
                "descricao": "Código único do touro reprodutor",
                "exemplo": "FSC04078",
                "uso": "Identificação primária para busca específica"
            },
            "nome_touro": {
                "tipo": "VARCHAR",
                "descricao": "Nome legível do touro reprodutor",
                "exemplo": "Touro04078",
                "uso": "Apresentação em relatórios"
            }
        },
        "contadores_filhas": {
            "total_filhas": {
                "tipo": "INTEGER",
                "descricao": "Número total de filhas diretas do touro",
                "exemplo": 9,
                "uso": "Avaliar representatividade estatística"
            },
            "filhas_com_producao": {
                "tipo": "INTEGER",
                "descricao": "Número de filhas com dados de produção leiteira",
                "exemplo": 8,
                "uso": "Calcular taxa de sucesso reprodutivo"
            },
            "filhas_sem_producao": {
                "tipo": "INTEGER",
                "descricao": "Número de filhas sem dados de produção",
                "exemplo": 1,
                "uso": "Identificar perdas no rebanho"
            },
            "percentual_filhas_com_producao": {
                "tipo": "DECIMAL",
                "descricao": "Percentual de filhas que são produtivas",
                "exemplo": 88.89,
                "uso": "Avaliar eficiência reprodutiva do touro"
            }
        },
        "metricas_producao_305d": {
            "media_leite_305d": {
                "tipo": "DECIMAL",
                "descricao": "Média de produção 305 dias das filhas diretas (em litros)",
                "exemplo": 11785.0,
                "uso": "Principal métrica de performance genética",
                "importancia": "CRITICA"
            },
            "min_leite_305d": {
                "tipo": "DECIMAL",
                "descricao": "Menor produção 305d entre as filhas",
                "exemplo": 3136.26,
                "uso": "Avaliar pior caso genético"
            },
            "max_leite_305d": {
                "tipo": "DECIMAL",
                "descricao": "Maior produção 305d entre as filhas",
                "exemplo": 11364.7,
                "uso": "Avaliar potencial genético máximo"
            },
            "desvio_leite_305d": {
                "tipo": "DECIMAL",
                "descricao": "Desvio padrão da produção 305d das filhas",
                "exemplo": 2156.78,
                "uso": "Medir consistência genética"
            }
        },
        "producao_vitalicia": {
            "media_producao_vitalicia": {
                "tipo": "DECIMAL",
                "descricao": "Média da produção total vitalícia das filhas",
                "exemplo": 11785.0,
                "uso": "Avaliar longevidade produtiva"
            },
            "min_producao_vitalicia": {
                "tipo": "DECIMAL",
                "descricao": "Menor produção vitalícia entre filhas",
                "exemplo": 3136.26,
                "uso": "Avaliar pior cenário de longevidade"
            },
            "max_producao_vitalicia": {
                "tipo": "DECIMAL",
                "descricao": "Maior produção vitalícia entre filhas",
                "exemplo": 11364.7,
                "uso": "Potencial máximo de longevidade"
            }
        },
        "componentes_leite": {
            "media_gordura_305d": {
                "tipo": "DECIMAL",
                "descricao": "Média do percentual de gordura das filhas (305d)",
                "exemplo": 3.8,
                "uso": "Seleção para qualidade do leite"
            },
            "media_proteina_305d": {
                "tipo": "DECIMAL",
                "descricao": "Média do percentual de proteína das filhas (305d)",
                "exemplo": 3.2,
                "uso": "Seleção para valor nutricional"
            }
        },
        "lactacoes": {
            "media_lactacoes_por_filha": {
                "tipo": "DECIMAL",
                "descricao": "Número médio de lactações por filha",
                "exemplo": 2.8,
                "uso": "Avaliar produtividade reprodutiva"
            },
            "media_dias_lactacao": {
                "tipo": "DECIMAL",
                "descricao": "Duração média das lactações das filhas",
                "exemplo": 315.5,
                "uso": "Avaliar persistência lactacional"
            }
        }
    },
    "campos_calculados": {
        "classificacoes": {
            "categoria_producao_305d": {
                "tipo": "VARCHAR",
                "descricao": "Classificação automática baseada na média de produção das filhas",
                "valores": [
                    "ELITE_SUPERIOR (≥12.000L)",
                    "ELITE_PRODUCAO (≥11.000L)",
                    "ALTA_PRODUCAO (≥10.000L)",
                    "BOA_PRODUCAO (≥9.000L)",
                    "PRODUCAO_REGULAR (≥8.000L)",
                    "PRODUCAO_BAIXA (<8.000L)"
                ],
                "uso": "Filtrar touros por nível de performance das filhas",
                "importancia": "ALTA"
            },
            "nivel_representatividade": {
                "tipo": "VARCHAR",
                "descricao": "Confiabilidade estatística baseada no número de filhas",
                "valores": [
                    "MUITO_ALTA_REPRESENTATIVIDADE (≥15 filhas)",
                    "ALTA_REPRESENTATIVIDADE (≥10 filhas)",
                    "MEDIA_REPRESENTATIVIDADE (≥5 filhas)",
                    "BAIXA_REPRESENTATIVIDADE (≥2 filhas)",
                    "REPRESENTATIVIDADE_MINIMA (<2 filhas)"
                ],
                "uso": "Filtrar por confiabilidade dos dados"
            },
            "status_produtividade_filhas": {
                "tipo": "VARCHAR",
                "descricao": "Classificação baseada no percentual de filhas produtivas",
                "valores": [
                    "TODAS_PRODUTIVAS (100%)",
                    "QUASE_TODAS_PRODUTIVAS (≥90%)",
                    "MAIORIA_PRODUTIVAS (≥80%)",
                    "METADE_PRODUTIVAS (≥50%)",
                    "MINORIA_PRODUTIVAS (<50%)"
                ],
                "uso": "Avaliar taxa de sucesso reprodutivo"
            },
            "variabilidade_genetica": {
                "tipo": "VARCHAR",
                "descricao": "Consistência da herança baseada no desvio padrão",
                "valores": [
                    "BAIXA_VARIABILIDADE (≤1.000L desvio)",
                    "MEDIA_VARIABILIDADE (≤2.000L desvio)",
                    "ALTA_VARIABILIDADE (>2.000L desvio)",
                    "NAO_CALCULAVEL (filha única)"
                ],
                "uso": "Avaliar previsibilidade genética"
            },
            "performance_longevidade": {
                "tipo": "VARCHAR",
                "descricao": "Comparação entre produção 305d e vitalícia das filhas",
                "valores": [
                    "LONGEVIDADE_EXCEPCIONAL (+3.000L vitalícia)",
                    "EXCELENTE_LONGEVIDADE (+2.000L vitalícia)",
                    "BOA_LONGEVIDADE (+1.000L vitalícia)",
                    "LONGEVIDADE_NORMAL (pequena diferença)",
                    "LONGEVIDADE_BAIXA (vitalícia menor)"
                ],
                "uso": "Selecionar para rebanhos de longa duração"
            },
            "qualidade_componentes": {
                "tipo": "VARCHAR",
                "descricao": "Qualidade do leite das filhas baseada em gordura e proteína",
                "valores": [
                    "EXCELENTE_QUALIDADE (≥4.0% gord, ≥3.5% prot)",
                    "ALTA_QUALIDADE (≥3.5% gord, ≥3.2% prot)",
                    "BOA_QUALIDADE (≥3.0% gord, ≥3.0% prot)",
                    "QUALIDADE_REGULAR (abaixo dos limites)"
                ],
                "uso": "Seleção para mercados premium"
            },
            "persistencia_lactacional": {
                "tipo": "VARCHAR",
                "descricao": "Duração das lactações das filhas",
                "valores": [
                    "ALTA_PERSISTENCIA (≥350 dias)",
                    "BOA_PERSISTENCIA (≥305 dias)",
                    "PERSISTENCIA_REGULAR (≥250 dias)",
                    "BAIXA_PERSISTENCIA (<250 dias)"
                ],
                "uso": "Avaliar sustentabilidade produtiva"
            }
        },
        "indicadores_boolean": {
            "tem_amostra_significativa": {
                "tipo": "BOOLEAN",
                "descricao": "Indica se tem ≥5 filhas (dados estatisticamente confiáveis)",
                "uso": "Filtrar touros com dados confiáveis"
            },
            "tem_amostra_muito_significativa": {
                "tipo": "BOOLEAN",
                "descricao": "Indica se tem ≥10 filhas (dados muito confiáveis)",
                "uso": "Filtrar touros com dados altamente confiáveis"
            },
            "todas_filhas_produtivas": {
                "tipo": "BOOLEAN",
                "descricao": "Indica se 100% das filhas são produtivas",
                "uso": "Identificar touros com alta eficiência reprodutiva"
            },
            "producao_elite": {
                "tipo": "BOOLEAN",
                "descricao": "Indica se média das filhas > 11.000L",
                "uso": "Identificar touros de elite rapidamente"
            },
            "producao_acima_10mil": {
                "tipo": "BOOLEAN",
                "descricao": "Indica se média das filhas > 10.000L",
                "uso": "Filtrar alta produção"
            },
            "longevidade_superior": {
                "tipo": "BOOLEAN",
                "descricao": "Indica se produção vitalícia > 305d + 1.000L",
                "uso": "Selecionar para longevidade"
            },
            "baixa_variabilidade_genetica": {
                "tipo": "BOOLEAN",
                "descricao": "Indica desvio padrão < 1.500L (herança consistente)",
                "uso": "Selecionar touros previsíveis"
            },
            "excelente_qualidade_leite": {
                "tipo": "BOOLEAN",
                "descricao": "Indica alta gordura (>3.5%) E alta proteína (>3.2%)",
                "uso": "Seleção para qualidade premium"
            },
            "alta_produtividade_reprodutiva": {
                "tipo": "BOOLEAN",
                "descricao": "Indica se filhas têm ≥3.0 lactações em média",
                "uso": "Avaliar eficiência reprodutiva"
            },
            "boa_persistencia_lactacao": {
                "tipo": "BOOLEAN",
                "descricao": "Indica se lactações das filhas duram ≥305 dias",
                "uso": "Selecionar para sustentabilidade produtiva"
            }
        }
    },
    "queries_exemplo": {
        "ranking_geral_filhas": {
            "sql": "SELECT codigo_touro, nome_touro, media_leite_305d, total_filhas, categoria_producao_305d FROM cubo_producao_touro_filhas ORDER BY media_leite_305d DESC LIMIT 10",
            "descricao": "Top 10 touros por produção média das filhas diretas"
        },
        "touros_elite_filhas_confiaveis": {
            "sql": "SELECT * FROM cubo_producao_touro_filhas WHERE categoria_producao_305d IN ('ELITE_SUPERIOR', 'ELITE_PRODUCAO') AND tem_amostra_significativa = true",
            "descricao": "Touros de elite com dados confiáveis das filhas"
        },
        "filhas_todas_produtivas": {
            "sql": "SELECT * FROM cubo_producao_touro_filhas WHERE todas_filhas_produtivas = true AND tem_amostra_significativa = true",
            "descricao": "Touros onde 100% das filhas são produtivas"
        },
        "touros_consistentes_filhas": {
            "sql": "SELECT * FROM cubo_producao_touro_filhas WHERE variabilidade_genetica = 'BAIXA_VARIABILIDADE' AND tem_amostra_significativa = true",
            "descricao": "Touros com transmissão genética consistente para filhas"
        },
        "qualidade_premium_filhas": {
            "sql": "SELECT * FROM cubo_producao_touro_filhas WHERE excelente_qualidade_leite = true AND producao_acima_10mil = true",
            "descricao": "Touros cujas filhas produzem leite de qualidade premium"
        },
        "longevidade_filhas": {
            "sql": "SELECT * FROM cubo_producao_touro_filhas WHERE performance_longevidade IN ('LONGEVIDADE_EXCEPCIONAL', 'EXCELENTE_LONGEVIDADE') AND tem_amostra_significativa = true",
            "descricao": "Touros cujas filhas têm excelente longevidade produtiva"
        },
        "alta_persistencia_filhas": {
            "sql": "SELECT * FROM cubo_producao_touro_filhas WHERE persistencia_lactacional = 'ALTA_PERSISTENCIA' AND tem_amostra_significativa = true",
            "descricao": "Touros cujas filhas têm lactações muito duradouras"
        },
        "busca_touro_especifico": {
            "sql": "SELECT * FROM cubo_producao_touro_filhas WHERE codigo_touro = 'FSC04078'",
            "descricao": "Buscar dados completos de um touro específico"
        }
    },
    "dicas_uso": [
        "Este cubo analisa APENAS filhas diretas, sem netas",
        "Para comparação com descendentes totais, use cubo_producao_touro_descendentes",
        "categoria_producao_305d facilita comparações rápidas",
        "variabilidade_genetica mostra previsibilidade da herança direta",
        "status_produtividade_filhas indica eficiência reprodutiva",
        "persistencia_lactacional é importante para sistemas extensivos",
        "Combine múltiplos critérios para seleção precisa"
    ],
    "casos_uso_comuns": {
        "selecao_reprodutores_diretos": "Filtrar por categoria_producao_305d = 'ELITE_PRODUCAO' AND tem_amostra_significativa = true",
        "eficiencia_reprodutiva": "Usar todas_filhas_produtivas = true OR status_produtividade_filhas = 'TODAS_PRODUTIVAS'",
        "heranca_previsivel": "Filtrar por variabilidade_genetica = 'BAIXA_VARIABILIDADE'",
        "mercado_premium": "Usar excelente_qualidade_leite = true",
        "sistemas_extensivos": "Filtrar por persistencia_lactacional IN ('ALTA_PERSISTENCIA', 'BOA_PERSISTENCIA')",
        "longevidade_rebanho": "Usar longevidade_superior = true"
    },
    "diferenciais_vs_descendentes": [
        "Análise focada: APENAS filhas diretas vs. filhas + netas",
        "Impacto genético direto: Sem diluição de gerações subsequentes",
        "Decisões reprodutivas: Mais preciso para escolha de reprodutores",
        "Controle de qualidade: Melhor para avaliar transmissão genética direta",
        "Planejamento: Ideal para prever resultados da próxima geração"
    ]
}
